- model_class = Advert
.page-header
  %h1=t '.title', :default => model_class.model_name.human.pluralize
%br
= link_to t('.new', :default => t("helpers.links.new")), new_advert_path, :class => 'btn btn-primary'
%br
%br
%table.table.table-striped
  %thead
    %h4= t('active_adverts')
    %tr
      %th.short-column
        No
      %th
        = t('name')
      %th
        = t('advert_type')
      %th
        = t('start_date')
      %th
        = t('end_date')
      %th.short-column
        = t('active')
      %th.short-column
        = t('paid_for')
      %th.short-column
        = t('weight')
      %th
  %tbody

    - @active_adverts.each_with_index do |advert, index|
      %tr
        %td= index + 1
        %td= advert.title
        %td= advert.advert_type
        %td
          = advert.start_date
        %td
          = advert.end_date
        %td.short-column
          = form_for advert, url: activate_advert_path(advert) do |f|
            = f.check_box :active, onClick: "submit();"
        %td.short-column
          = form_for advert, url: activate_advert_path(advert) do |f|
            = f.check_box :paid_for, onClick: "submit();"
        %td.short-column
          = form_for advert, url: activate_advert_path(advert) do |f|
            = f.select :weight, options_for_select(['1','2','3','4','5','7','8','9','10'], selected: advert.weight ),{} ,{ onChange: "submit();", class: 'short-select'}
        %td
          = link_to t('view'), advert_path(advert), class: 'btn btn-mini'
          = link_to t('edit', :default => t("helpers.links.edit")), edit_advert_path(advert), :class => 'btn btn-mini'
          = link_to t('destroy', :default => t("helpers.links.destroy")), advert_path(advert), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-mini btn-danger'

%br
%table.table.table-striped
  %thead
    %h4= t('pending_adverts')
    %tr
      %th.short-column
        No
      %th
        = t('name')
      %th
        = t('advert_type')
      %th
        = t('start_date')
      %th
        = t('end_date')
      %th.short-column
        = t('active')
      %th.short-column
        = t('paid_for')
      %th
  %tbody

    - @pending_adverts.each_with_index do |advert, index|
      %tr
        %td= index + 1
        %td= advert.title
        %td= advert.advert_type
        %td
          = advert.start_date
        %td
          = advert.end_date
        %td.short-column
          = form_for advert, url: activate_advert_path(advert) do |f|
            = f.check_box :active, onClick: "submit();"
        %td.short-column
          = form_for advert, url: activate_advert_path(advert) do |f|
            = f.check_box :paid_for, onClick: "submit();"
        %td
          = link_to t('view'), advert_path(advert), class: 'btn btn-mini'
          = link_to t('edit', :default => t("helpers.links.edit")), edit_advert_path(advert), :class => 'btn btn-mini'
          = link_to t('destroy', :default => t("helpers.links.destroy")), advert_path(advert), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-mini btn-danger'



%br
%table.table.table-striped
  %thead
    %h4= t('inactive_adverts')
    %tr
      %th.short-column
        No
      %th
        = t('name')
      %th
        = t('advert_type')
      %th
        = t('start_date')
      %th
        = t('end_date')
      %th.short-column
        = t('active')
      %th.short-column
        = t('paid_for')
      %th
  %tbody

    - @inactive_adverts.each_with_index do |advert, index|
      %tr
        %td= index + 1
        %td= advert.title
        %td= advert.advert_type
        %td
          = advert.start_date
        %td
          = advert.end_date
        %td.short-column
          = form_for advert, url: activate_advert_path(advert) do |f|
            = f.check_box :active, onClick: "submit();"
        %td.short-column
          = form_for advert, url: activate_advert_path(advert) do |f|
            = f.check_box :paid_for, onClick: "submit();"
        %td
          = link_to t('view'), advert_path(advert), class: 'btn btn-mini'
          = link_to t('edit', :default => t("helpers.links.edit")), edit_advert_path(advert), :class => 'btn btn-mini'
          = link_to t('destroy', :default => t("helpers.links.destroy")), advert_path(advert), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-mini btn-danger'

