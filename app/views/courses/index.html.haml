.page-header
  %h1="#{t('.title')} #{if current_consultant && current_consultant.program then current_consultant.program.name end}"

.pagination-left
  = paginate @courses


%table.table.table-striped
  %thead
    %tr
      %th
        = t('course_name')
      %th
        = t('description')
      %th
        = t('program_name')
      %th
        = t('start_date')
      %th
        = t('end_date')
      %th
        = t('active') 
      %th
      
    %tbody
      - @courses.each do |course|
        %tr
          %td
            = link_to course.name, course_path(course)
          %td
            = course.description
          %td
            = course.program.name unless course.program.nil?
          %td
            = course.start_date
          %td
            = course.end_date
          %td
            = course.status? ? t('active') : t('inactive')
          %td
            = link_to t('.edit', :default => t("helpers.links.edit")),
                          edit_course_path(course), :class => 'btn btn-mini' 
            - if can? :destroy, Course
              =link_to t('destroy', :default => t("helpers.links.destroy")),
                              course_path(course),
                              :method => :delete,
                              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => t('are_you_sure'))) },
                              :class => 'btn btn-mini btn-danger'

.pagination-left
  = paginate @courses

- if can? :manage, Course
  = link_to t('.create_course', :default => t("helpers.links.new")), new_course_path, :class => 'btn btn-primary' 
